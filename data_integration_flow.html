<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Data Integration Flow ‚Äî AQA</title>

<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({ startOnLoad: true, theme: "default", securityLevel: "loose" });
</script>

<style>
  body { font-family: Segoe UI, Roboto, sans-serif; margin: 0; background: #fff; color: #111; }
  header { background: #f8fafc; border-bottom: 1px solid #e2e8f0; text-align: center; padding: 1.5rem; }
  h1 { margin: 0; }
  p { color: #6b7280; margin: 0.4rem 0; }
  .container { max-width: 1100px; margin: 0 auto; padding: 2rem; }
</style>
</head>

<body>
<header>
  <h1>üåç AQA Data Integration Flow</h1>
  <p>Technical Workflow ‚Äî ARPA + ERA5 Integration</p>
</header>

<div class="container">
<div class="mermaid">
flowchart TD
  S1[Load ARPA Metadata]
  S2[Download ARPA Data]
  S3[Download ERA5 Variables]
  S4[Merge ERA5 Files]
  S5[Build Spatial Grid]
  S6[Interpolate ERA5 on ARPA Grid]
  S7[Compute Period Means]
  S8[Merge ERA5 + ARPA]
  S9[Export Final Dataset]

  S1 --> S2 --> S3 --> S4 --> S5 --> S6 --> S7 --> S8 --> S9

  classDef data fill:#dbeafe,stroke:#1e40af,stroke-width:1px,color:#000;
  classDef process fill:#f1f5f9,stroke:#1e293b,stroke-width:1px,color:#000;
  classDef output fill:#dcfce7,stroke:#166534,stroke-width:1px,color:#000;
  class S1,S2,S3 data;
  class S4,S5,S6,S7,S8 process;
  class S9 output;
</div>
</div>
</body>
</html>
